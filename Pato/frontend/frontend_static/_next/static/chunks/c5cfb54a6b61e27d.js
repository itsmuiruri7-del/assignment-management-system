(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75953,e=>{"use strict";var t,a=e.i(76819),r=e.i(44738),s=e.i(71119),l=e.i(63779),i=e.i(86575),n=e.i(44431),o=e.i(7991),d=e.i(45744),c=e.i(11434),u=e.i(49302);function m(e){if((!t&&0!==t||e)&&d.default){var a=document.createElement("div");a.style.position="absolute",a.style.top="-9999px",a.style.width="50px",a.style.height="50px",a.style.overflow="scroll",document.body.appendChild(a),t=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return t}var h=e.i(2888),f=e.i(55072),g=e.i(53778),p=e.i(93356),x=e.i(75498),j=e.i(19424),v=e.i(22929);let y=s.forwardRef(({className:e,bsPrefix:t,as:r="div",...s},l)=>(t=(0,v.useBootstrapPrefix)(t,"modal-body"),(0,a.jsx)(r,{ref:l,className:(0,n.default)(e,t),...s})));y.displayName="ModalBody";var b=e.i(60005);let w=s.forwardRef(({bsPrefix:e,className:t,contentClassName:r,centered:s,size:l,fullscreen:i,children:o,scrollable:d,...c},u)=>{e=(0,v.useBootstrapPrefix)(e,"modal");let m=`${e}-dialog`,h="string"==typeof i?`${e}-fullscreen-${i}`:`${e}-fullscreen`;return(0,a.jsx)("div",{...c,ref:u,className:(0,n.default)(m,t,l&&`${e}-${l}`,s&&`${m}-centered`,d&&`${m}-scrollable`,i&&h),children:(0,a.jsx)("div",{className:(0,n.default)(`${e}-content`,r),children:o})})});w.displayName="ModalDialog";let N=w,C=s.forwardRef(({className:e,bsPrefix:t,as:r="div",...s},l)=>(t=(0,v.useBootstrapPrefix)(t,"modal-footer"),(0,a.jsx)(r,{ref:l,className:(0,n.default)(e,t),...s})));C.displayName="ModalFooter";var S=e.i(86425);let F=s.forwardRef(({bsPrefix:e,className:t,closeLabel:r="Close",closeButton:s=!1,...l},i)=>(e=(0,v.useBootstrapPrefix)(e,"modal-header"),(0,a.jsx)(S.default,{ref:i,...l,className:(0,n.default)(t,e),closeLabel:r,closeButton:s})));F.displayName="ModalHeader";let P=(0,e.i(7532).default)("h4"),E=s.forwardRef(({className:e,bsPrefix:t,as:r=P,...s},l)=>(t=(0,v.useBootstrapPrefix)(t,"modal-title"),(0,a.jsx)(r,{ref:l,className:(0,n.default)(e,t),...s})));function B(e){return(0,a.jsx)(j.default,{...e,timeout:null})}function O(e){return(0,a.jsx)(j.default,{...e,timeout:null})}E.displayName="ModalTitle";let A=s.forwardRef(({bsPrefix:e,className:t,style:r,dialogClassName:l,contentClassName:i,children:j,dialogAs:y=N,"data-bs-theme":w,"aria-labelledby":C,"aria-describedby":S,"aria-label":F,show:P=!1,animation:E=!0,backdrop:A=!0,keyboard:R=!0,onEscapeKeyDown:T,onShow:k,onHide:z,container:D,autoFocus:$=!0,enforceFocus:I=!0,restoreFocus:H=!0,restoreFocusOptions:M,onEntered:L,onExit:U,onExiting:V,onEnter:G,onEntering:W,onExited:q,backdropClassName:K,manager:J,..._},Y)=>{var Q;let X,[Z,ee]=(0,s.useState)({}),[et,ea]=(0,s.useState)(!1),er=(0,s.useRef)(!1),es=(0,s.useRef)(!1),el=(0,s.useRef)(null),[ei,en]=(0,s.useState)(null),eo=(0,f.default)(Y,en),ed=(0,h.default)(z),ec=(0,v.useIsRTL)();e=(0,v.useBootstrapPrefix)(e,"modal");let eu=(0,s.useMemo)(()=>({onHide:ed}),[ed]);function em(){return J||(0,x.getSharedManager)({isRTL:ec})}function eh(e){if(!d.default)return;let t=em().getScrollbarWidth()>0,a=e.scrollHeight>(0,c.default)(e).documentElement.clientHeight;ee({paddingRight:t&&!a?m():void 0,paddingLeft:!t&&a?m():void 0})}let ef=(0,h.default)(()=>{ei&&eh(ei.dialog)});Q=()=>{(0,u.default)(window,"resize",ef),null==el.current||el.current()},(X=(0,s.useRef)(Q)).current=Q,(0,s.useEffect)(()=>()=>X.current(),[]);let eg=()=>{er.current=!0},ep=e=>{er.current&&ei&&e.target===ei.dialog&&(es.current=!0),er.current=!1},ex=()=>{ea(!0),el.current=(0,g.default)(ei.dialog,()=>{ea(!1)})},ej=e=>{if("static"===A)return void(e.target===e.currentTarget&&ex());if(es.current||e.target!==e.currentTarget){es.current=!1;return}null==z||z()},ev=(0,s.useCallback)(t=>(0,a.jsx)("div",{...t,className:(0,n.default)(`${e}-backdrop`,K,!E&&"show")}),[E,K,e]),ey={...r,...Z};return ey.display="block",(0,a.jsx)(b.default.Provider,{value:eu,children:(0,a.jsx)(p.default,{show:P,ref:eo,backdrop:A,container:D,keyboard:!0,autoFocus:$,enforceFocus:I,restoreFocus:H,restoreFocusOptions:M,onEscapeKeyDown:e=>{R?null==T||T(e):(e.preventDefault(),"static"===A&&ex())},onShow:k,onHide:z,onEnter:(e,t)=>{e&&eh(e),null==G||G(e,t)},onEntering:(e,t)=>{null==W||W(e,t),(0,o.default)(window,"resize",ef)},onEntered:L,onExit:e=>{null==el.current||el.current(),null==U||U(e)},onExiting:V,onExited:e=>{e&&(e.style.display=""),null==q||q(e),(0,u.default)(window,"resize",ef)},manager:em(),transition:E?B:void 0,backdropTransition:E?O:void 0,renderBackdrop:ev,renderDialog:r=>(0,a.jsx)("div",{role:"dialog",...r,style:ey,className:(0,n.default)(t,e,et&&`${e}-static`,!E&&"show"),onClick:A?ej:void 0,onMouseUp:ep,"data-bs-theme":w,"aria-label":F,"aria-labelledby":C,"aria-describedby":S,children:(0,a.jsx)(y,{..._,onMouseDown:eg,className:l,contentClassName:i,children:j})})})})});A.displayName="Modal";let R=Object.assign(A,{Body:y,Header:F,Title:E,Footer:C,Dialog:N,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var T=e.i(46144),k=e.i(37499),z=e.i(3510);z.default.string,z.default.bool,z.default.bool,z.default.bool,z.default.bool;let D=s.forwardRef(({bsPrefix:e,className:t,fluid:r=!1,rounded:s=!1,roundedCircle:l=!1,thumbnail:i=!1,...o},d)=>(e=(0,v.useBootstrapPrefix)(e,"img"),(0,a.jsx)("img",{ref:d,...o,className:(0,n.default)(t,r&&`${e}-fluid`,s&&"rounded",l&&"rounded-circle",i&&`${e}-thumbnail`)})));D.displayName="Image";var $=e.i(15022),I=e.i(22249),H={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M=s.default.createContext&&s.default.createContext(H),L=["attr","size","title"];function U(){return(U=Object.assign.bind()).apply(this,arguments)}function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach(function(t){var r,s,l;r=e,s=t,l=a[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in r?Object.defineProperty(r,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[s]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function W(e){return t=>s.default.createElement(q,U({attr:G({},e.attr)},t),function e(t){return t&&t.map((t,a)=>s.default.createElement(t.tag,G({key:a},t.attr),e(t.child)))}(e.child))}function q(e){var t=t=>{var a,{attr:r,size:l,title:i}=e,n=function(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,L),o=l||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),s.default.createElement("svg",U({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,n,{className:a,style:G(G({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&s.default.createElement("title",null,i),e.children)};return void 0!==M?s.default.createElement(M.Consumer,null,e=>t(e)):t(H)}function K(e){return W({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function J(e){return W({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function _(e){return W({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Y(e){return W({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Q(e){return W({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}var X=e.i(38946);let Z=()=>{let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[f,g]=(0,s.useState)({name:"",description:"",image:null});(0,s.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await X.default.get("/login-screen-images");t(e.data)}catch(e){console.error("Error fetching login screen images:",e),u("Failed to load login screen images")}},x=e=>{let{name:t,value:a}=e.target;g(e=>({...e,[t]:a}))},j=async e=>{if(e.preventDefault(),!f.name||!f.image)return void u("Name and image are required");d(!0),u(""),h("");try{let e=new FormData;e.append("name",f.name),e.append("description",f.description),e.append("image",f.image);let t=await X.default.post("/login-screen-images",e);h("Image uploaded successfully");try{let e=t.data?.imageUrl||null;window.dispatchEvent(new CustomEvent("login-screen:changed",{detail:{imageUrl:e}}))}catch(e){}n(!1),g({name:"",description:"",image:null}),p()}catch(e){console.error("Error uploading image:",e),u("Failed to upload image")}finally{d(!1)}},v=async e=>{try{await X.default.patch(`/login-screen-images/${e}/activate`),h("Active image updated"),p()}catch(e){console.error("Error setting active image:",e),u("Failed to set active image")}},y=async e=>{if(window.confirm("Are you sure you want to delete this image?"))try{await X.default.delete(`/login-screen-images/${e}`),h("Image deleted successfully"),p()}catch(e){console.error("Error deleting image:",e),u("Failed to delete image")}};return(0,a.jsxs)(l.Card,{className:"mb-4",children:[(0,a.jsxs)(l.Card.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,a.jsx)("h5",{className:"mb-0",children:"Login Screen Images"}),(0,a.jsxs)(i.Button,{variant:"primary",size:"sm",onClick:()=>n(!0),children:[(0,a.jsx)(Q,{className:"me-1"})," Upload New"]})]}),(0,a.jsxs)(l.Card.Body,{children:[c&&(0,a.jsx)(k.Alert,{variant:"danger",onClose:()=>u(""),dismissible:!0,children:c}),m&&(0,a.jsx)(k.Alert,{variant:"success",onClose:()=>h(""),dismissible:!0,children:m}),(0,a.jsxs)($.Row,{xs:1,md:2,lg:3,className:"g-4",children:[e.map(t=>(0,a.jsx)(I.Col,{children:(0,a.jsxs)(l.Card,{children:[(0,a.jsx)("div",{style:{height:"200px",overflow:"hidden"},children:(0,a.jsx)(D,{src:t.imageUrl,alt:t.name,className:"w-100 h-100",style:{objectFit:"cover"}})}),(0,a.jsxs)(l.Card.Body,{children:[(0,a.jsx)(l.Card.Title,{children:t.name}),t.description&&(0,a.jsx)(l.Card.Text,{className:"text-muted small",children:t.description}),(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,a.jsx)("span",{className:`badge ${t.isActive?"bg-success":"bg-secondary"}`,children:t.isActive?"Active":"Inactive"}),(0,a.jsxs)("div",{children:[!t.isActive&&(0,a.jsxs)(i.Button,{variant:"outline-success",size:"sm",className:"me-2",onClick:()=>v(t.id),children:[(0,a.jsx)(K,{})," Set Active"]}),(0,a.jsx)(i.Button,{variant:"outline-danger",size:"sm",onClick:()=>y(t.id),disabled:t.isActive&&e.length>1,title:t.isActive&&e.length>1?"Cannot delete the only active image":"",children:(0,a.jsx)(Y,{})})]})]})]})]})},t.id)),0===e.length&&(0,a.jsx)(I.Col,{children:(0,a.jsxs)("div",{className:"text-center py-5 text-muted",children:[(0,a.jsx)("p",{children:"No login screen images found."}),(0,a.jsxs)(i.Button,{variant:"primary",onClick:()=>n(!0),children:[(0,a.jsx)(Q,{className:"me-1"})," Upload Your First Image"]})]})})]})]}),(0,a.jsxs)(R,{show:r,onHide:()=>n(!1),children:[(0,a.jsx)(R.Header,{closeButton:!0,children:(0,a.jsx)(R.Title,{children:"Upload Login Screen Image"})}),(0,a.jsxs)(T.Form,{onSubmit:j,children:[(0,a.jsxs)(R.Body,{children:[(0,a.jsxs)(T.Form.Group,{className:"mb-3",children:[(0,a.jsx)(T.Form.Label,{children:"Name *"}),(0,a.jsx)(T.Form.Control,{type:"text",name:"name",value:f.name,onChange:x,required:!0})]}),(0,a.jsxs)(T.Form.Group,{className:"mb-3",children:[(0,a.jsx)(T.Form.Label,{children:"Description"}),(0,a.jsx)(T.Form.Control,{as:"textarea",rows:2,name:"description",value:f.description,onChange:x})]}),(0,a.jsxs)(T.Form.Group,{className:"mb-3",children:[(0,a.jsx)(T.Form.Label,{children:"Image *"}),(0,a.jsx)(T.Form.Control,{type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&g(t=>({...t,image:e.target.files[0]}))},required:!0}),(0,a.jsx)(T.Form.Text,{className:"text-muted",children:"Recommended size: 1920x1080px, JPG or PNG format"})]})]}),(0,a.jsxs)(R.Footer,{children:[(0,a.jsx)(i.Button,{variant:"secondary",onClick:()=>n(!1),disabled:o,children:"Cancel"}),(0,a.jsx)(i.Button,{variant:"primary",type:"submit",disabled:o||!f.name||!f.image,children:o?"Uploading...":"Upload"})]})]})]})]})},ee=()=>{let[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)(""),[o,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(""),[f,g]=(0,s.useState)(null),[p,x]=(0,s.useState)(""),[j,v]=(0,s.useState)(""),[y,b]=(0,s.useState)(!1),[w,N]=(0,s.useState)(null),[C,S]=(0,s.useState)(null),F=async()=>{try{let e=await X.default.get("/settings");t(e.data),n(e.data?.name||""),d(e.data?.logoUrl||null),h(e.data?.themePrimaryColor||""),x(e.data?.footerText||""),v(e.data?.footerColor||"")}catch(e){N("Failed to load settings")}};(0,s.useEffect)(()=>{F()},[]);let P=async e=>{e.preventDefault(),N(null),S(null),b(!0);try{await X.default.put("/settings",{name:r,themePrimaryColor:m,footerText:p,footerColor:j}),S("Settings updated"),await F()}catch(e){N("Failed to update settings")}finally{b(!1)}},E=e=>/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e.trim()),B=e=>E(e)||/^rgb\s*\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\)$/i.test(e.trim())||""===e.trim(),O=async e=>{if(e.preventDefault(),N(null),S(null),g(null),!B(m))return void g("Invalid color. Use hex (e.g. #0d6efd) or rgb(r,g,b)");b(!0);try{await X.default.put("/settings",{name:r,themePrimaryColor:m,footerText:p,footerColor:j}),S("Theme and footer updated"),await F()}catch(e){N("Failed to update settings")}finally{b(!1)}};function A(e){let t=e.trim();if(t.startsWith("rgb")){let e=t.match(/\(([^)]+)\)/);return e&&e[1]?e[1].split(/\s*,\s*/).slice(0,3).join(","):null}if(t.startsWith("#")&&(t=t.slice(1)),3===t.length&&(t=t.split("").map(e=>e+e).join("")),6!==t.length)return null;let a=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),s=parseInt(t.slice(4,6),16);return Number.isNaN(a)||Number.isNaN(r)||Number.isNaN(s)?null:`${a},${r},${s}`}(0,s.useEffect)(()=>{if(!B(m))return;let e=document.documentElement,t=m.trim();if(""===t){e.style.removeProperty("--brand-primary"),e.style.removeProperty("--bs-primary"),e.style.removeProperty("--brand-primary-rgb"),e.style.removeProperty("--bs-primary-rgb");try{window.dispatchEvent(new CustomEvent("theme:changed",{detail:{color:null,footerColor:null}}))}catch{}return}e.style.setProperty("--brand-primary",t),e.style.setProperty("--bs-primary",t);let a=A(t);a&&(e.style.setProperty("--brand-primary-rgb",a),e.style.setProperty("--bs-primary-rgb",a));try{window.dispatchEvent(new CustomEvent("theme:changed",{detail:{color:t,footerColor:j}}))}catch{}},[m]),(0,s.useEffect)(()=>{if(""===j||!B(j))return;let e=document.documentElement;e.style.setProperty("--footer-bg",j);let t=A(j);if(t){let a,[r,s,l]=t.split(",").map(e=>parseInt(e,10)),i=.2126*(a=[r,s,l].map(e=>e/255).map(e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)))[0]+.7152*a[1]+.0722*a[2];e.style.setProperty("--footer-foreground",i>.5?"#000000":"#ffffff")}try{window.dispatchEvent(new CustomEvent("theme:changed",{detail:{footerColor:j}}))}catch{}},[j]);let R=async()=>{if(!c)return void N("Please choose a logo image first");N(null),S(null),b(!0);try{let e=new FormData;e.append("logo",c),await X.default.post("/settings/logo",e,{headers:{"Content-Type":"multipart/form-data"}}),S("Logo updated"),u(null),await F()}catch(e){N("Failed to upload logo")}finally{b(!1)}},z=async()=>{N(null),S(null),b(!0);try{let e=await X.default.post("/seed/sample");S(`Seeded sample data. Assignments created: ${e.data.assignmentsCreated}`)}catch(e){N("Failed to seed sample data")}finally{b(!1)}};return(0,a.jsxs)(l.Card,{className:"mb-4",children:[(0,a.jsx)(l.Card.Header,{children:(0,a.jsx)("strong",{children:"Application Settings"})}),(0,a.jsxs)(l.Card.Body,{children:[w&&(0,a.jsx)(k.Alert,{variant:"danger",onClose:()=>N(null),dismissible:!0,children:w}),C&&(0,a.jsx)(k.Alert,{variant:"success",onClose:()=>S(null),dismissible:!0,children:C}),(0,a.jsx)(T.Form,{onSubmit:P,className:"mb-4",children:(0,a.jsxs)(T.Form.Group,{as:$.Row,className:"align-items-center",children:[(0,a.jsx)(T.Form.Label,{column:!0,sm:3,children:"Software Name"}),(0,a.jsx)(I.Col,{sm:6,children:(0,a.jsx)(T.Form.Control,{type:"text",value:r,onChange:e=>n(e.target.value),required:!0,placeholder:"Enter software name"})}),(0,a.jsx)(I.Col,{sm:3,className:"text-sm-end mt-3 mt-sm-0",children:(0,a.jsxs)(i.Button,{type:"submit",variant:"primary",disabled:y,children:[(0,a.jsx)(_,{className:"me-2"})," Save"]})})]})}),(0,a.jsxs)(T.Form,{onSubmit:O,className:"mb-4",children:[(0,a.jsxs)($.Row,{className:"g-3 align-items-center",children:[(0,a.jsxs)(I.Col,{sm:3,children:[(0,a.jsx)("div",{className:"fw-semibold",children:"Theme Primary Color"}),(0,a.jsx)("div",{className:"text-muted small",children:"Hex value (e.g., #0d6efd)"})]}),(0,a.jsxs)(I.Col,{sm:6,children:[(0,a.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,a.jsx)(T.Form.Control,{type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"#0d6efd"}),(0,a.jsx)("input",{type:"color","aria-label":"Pick color",value:E(m)?m:"#000000",onChange:e=>h(e.target.value),style:{width:48,height:36,border:"none",padding:0}}),(0,a.jsx)("div",{"aria-hidden":!0,style:{width:40,height:36,borderRadius:4,border:"1px solid #ddd",background:B(m)?m:"transparent"}})]}),f&&(0,a.jsx)("div",{className:"text-danger small mt-1",children:f})]})]}),(0,a.jsxs)($.Row,{className:"g-3 align-items-center mt-2",children:[(0,a.jsx)(I.Col,{sm:3,children:(0,a.jsx)("div",{className:"fw-semibold",children:"Footer Text"})}),(0,a.jsx)(I.Col,{sm:6,children:(0,a.jsx)(T.Form.Control,{as:"textarea",rows:2,value:p,onChange:e=>x(e.target.value),placeholder:"Enter footer text"})}),(0,a.jsx)(I.Col,{sm:3,className:"text-sm-end",children:(0,a.jsxs)(i.Button,{type:"submit",variant:"primary",disabled:y,children:[(0,a.jsx)(_,{className:"me-2"})," Save Theme & Footer"]})})]}),(0,a.jsxs)($.Row,{className:"g-3 align-items-center mt-2",children:[(0,a.jsx)(I.Col,{sm:3,children:(0,a.jsx)("div",{className:"fw-semibold",children:"Footer Background Color"})}),(0,a.jsx)(I.Col,{sm:6,children:(0,a.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,a.jsx)(T.Form.Control,{type:"text",value:j,onChange:e=>v(e.target.value),placeholder:"#000000 or rgb(0,0,0)"}),(0,a.jsx)("input",{type:"color","aria-label":"Pick footer color",value:E(j)?j:"#000000",onChange:e=>v(e.target.value),style:{width:48,height:36,border:"none",padding:0}}),(0,a.jsx)("div",{"aria-hidden":!0,style:{width:40,height:36,borderRadius:4,border:"1px solid #ddd",background:B(j)?j:"transparent"}})]})}),(0,a.jsx)(I.Col,{sm:3})]})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)($.Row,{className:"align-items-center",children:[(0,a.jsxs)(I.Col,{sm:3,children:[(0,a.jsx)("div",{className:"mb-2 fw-semibold",children:"Logo"}),(0,a.jsx)("div",{className:"text-muted small",children:"PNG/JPG/SVG up to 5MB"})]}),(0,a.jsx)(I.Col,{sm:6,className:"mb-3 mb-sm-0",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[o?(0,a.jsx)(D,{src:o,alt:"Logo preview",height:48,style:{objectFit:"contain"}}):(0,a.jsx)("div",{className:"text-muted",children:"No logo"}),(0,a.jsx)(T.Form.Control,{type:"file",accept:"image/*",onChange:e=>{if(!e.target.files||!e.target.files[0])return;let t=e.target.files[0];u(t),d(URL.createObjectURL(t))}})]})}),(0,a.jsx)(I.Col,{sm:3,className:"text-sm-end",children:(0,a.jsxs)(i.Button,{variant:"secondary",onClick:R,disabled:y||!c,children:[(0,a.jsx)(Q,{className:"me-2"})," Upload"]})})]})}),(0,a.jsx)("div",{className:"border-top pt-3",children:(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"fw-semibold",children:"Sample Data"}),(0,a.jsx)("div",{className:"text-muted small",children:"Create User A and Computer Science assignments"})]}),(0,a.jsxs)(i.Button,{variant:"outline-primary",onClick:z,disabled:y,children:[(0,a.jsx)(J,{className:"me-2"})," Seed Sample Data"]})]})})]})]})};var et=e.i(25600),ea=e.i(25458);let er=()=>{let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),[f,g]=(0,s.useState)(""),p=async()=>{n(!0),d(null);try{let{data:e}=await X.default.get("/users");t(e||[])}catch(e){d("Failed to load users")}finally{n(!1)}};(0,s.useEffect)(()=>{p()},[]);let x=async e=>{if(!f||f.length<6)return void d("Please provide a new password (min 6 characters).");d(null),u(null),h(e);try{await X.default.post(`/users/${e}/reset-password`,{newPassword:f}),u("Password reset successfully"),g("")}catch(e){d("Failed to reset password")}finally{h(null)}},j=e.filter(e=>"STUDENT"===e.role);return(0,a.jsxs)(l.Card,{className:"mb-4",children:[(0,a.jsx)(l.Card.Header,{children:(0,a.jsx)("strong",{children:"Students"})}),(0,a.jsxs)(l.Card.Body,{children:[o&&(0,a.jsx)(k.Alert,{variant:"danger",onClose:()=>d(null),dismissible:!0,children:o}),c&&(0,a.jsx)(k.Alert,{variant:"success",onClose:()=>u(null),dismissible:!0,children:c}),(0,a.jsxs)($.Row,{className:"mb-3",children:[(0,a.jsx)(I.Col,{sm:6,children:(0,a.jsx)(T.Form.Control,{type:"password",placeholder:"New password for reset",value:f,onChange:e=>g(e.target.value)})}),(0,a.jsx)(I.Col,{sm:"auto",className:"d-flex align-items-center",children:(0,a.jsx)("small",{className:"text-muted",children:"Select a student below and click Reset"})})]}),r?(0,a.jsx)(ea.Spinner,{animation:"border"}):(0,a.jsxs)(et.Table,{striped:!0,bordered:!0,hover:!0,responsive:!0,size:"sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Email"}),(0,a.jsx)("th",{children:"Joined"}),(0,a.jsx)("th",{children:"Action"})]})}),(0,a.jsxs)("tbody",{children:[j.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:e.email}),(0,a.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("td",{children:(0,a.jsx)(i.Button,{variant:"outline-danger",size:"sm",disabled:m===e.id,onClick:()=>x(e.id),children:m===e.id?"Resetting...":"Reset Password"})})]},e.id)),0===j.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"text-center text-muted",children:"No students found."})})]})]})]})]})};e.s(["default",0,()=>(0,a.jsxs)(r.Container,{className:"py-4",children:[(0,a.jsx)("h2",{className:"mb-4",children:"Admin Dashboard"}),(0,a.jsx)(ee,{}),(0,a.jsx)(er,{}),(0,a.jsx)(Z,{})]})],75953)}]);