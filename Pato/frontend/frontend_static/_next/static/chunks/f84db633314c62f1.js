(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33091,(e,t,a)=>{"use strict";t.exports=function(){}},37499,e=>{"use strict";var t=e.i(44431),a=e.i(71119);e.i(85109);var s=e.i(99834),l=e.i(2888),r=e.i(22929),i=e.i(7532),n=e.i(76819);let o=(0,i.default)("h4");o.displayName="DivStyledAsH4";let d=a.forwardRef(({className:e,bsPrefix:a,as:s=o,...l},i)=>(a=(0,r.useBootstrapPrefix)(a,"alert-heading"),(0,n.jsx)(s,{ref:i,className:(0,t.default)(e,a),...l})));d.displayName="AlertHeading";var u=e.i(2324);let c=a.forwardRef(({className:e,bsPrefix:a,as:s=u.default,...l},i)=>(a=(0,r.useBootstrapPrefix)(a,"alert-link"),(0,n.jsx)(s,{ref:i,className:(0,t.default)(e,a),...l})));c.displayName="AlertLink";var f=e.i(19424),m=e.i(91816);let p=a.forwardRef((e,a)=>{let{bsPrefix:i,show:o=!0,closeLabel:d="Close alert",closeVariant:u,className:c,children:p,variant:x="primary",onClose:h,dismissible:b,transition:j=f.default,...v}=(0,s.useUncontrolled)(e,{show:"onClose"}),y=(0,r.useBootstrapPrefix)(i,"alert"),g=(0,l.default)(e=>{h&&h(!1,e)}),N=!0===j?f.default:j,w=(0,n.jsxs)("div",{role:"alert",...!N?v:void 0,ref:a,className:(0,t.default)(c,y,x&&`${y}-${x}`,b&&`${y}-dismissible`),children:[b&&(0,n.jsx)(m.default,{onClick:g,"aria-label":d,variant:u}),p]});return N?(0,n.jsx)(N,{unmountOnExit:!0,...v,ref:void 0,in:o,children:w}):o?w:null});p.displayName="Alert";let x=Object.assign(p,{Link:c,Heading:d});e.s(["Alert",0,x],37499)},23665,10766,14608,27301,91013,59531,1314,e=>{"use strict";var t=e.i(44431),a=e.i(71119),s=e.i(3510),l=e.i(76819);let r={type:s.default.string,tooltip:s.default.bool,as:s.default.elementType},i=a.forwardRef(({as:e="div",className:a,type:s="valid",tooltip:r=!1,...i},n)=>(0,l.jsx)(e,{...i,ref:n,className:(0,t.default)(a,`${s}-${r?"tooltip":"feedback"}`)}));i.displayName="Feedback",i.propTypes=r;let n=a.createContext({});e.s(["default",0,n],10766);var o=e.i(22929);let d=a.forwardRef(({id:e,bsPrefix:s,className:r,type:i="checkbox",isValid:d=!1,isInvalid:u=!1,as:c="input",...f},m)=>{let{controlId:p}=(0,a.useContext)(n);return s=(0,o.useBootstrapPrefix)(s,"form-check-input"),(0,l.jsx)(c,{...f,ref:m,type:i,id:e||p,className:(0,t.default)(r,s,d&&"is-valid",u&&"is-invalid")})});d.displayName="FormCheckInput",e.s(["default",0,d],14608);let u=a.forwardRef(({bsPrefix:e,className:s,htmlFor:r,...i},d)=>{let{controlId:u}=(0,a.useContext)(n);return e=(0,o.useBootstrapPrefix)(e,"form-check-label"),(0,l.jsx)("label",{...i,ref:d,htmlFor:r||u,className:(0,t.default)(s,e)})});function c(e,t){let s=0;return a.Children.map(e,e=>a.isValidElement(e)?t(e,s++):e)}function f(e,t){return a.Children.toArray(e).some(e=>a.isValidElement(e)&&e.type===t)}u.displayName="FormCheckLabel",e.s(["hasChildOfType",()=>f,"map",()=>c],27301);let m=a.forwardRef(({id:e,bsPrefix:s,bsSwitchPrefix:r,inline:c=!1,reverse:m=!1,disabled:p=!1,isValid:x=!1,isInvalid:h=!1,feedbackTooltip:b=!1,feedback:j,feedbackType:v,className:y,style:g,title:N="",type:w="checkbox",label:$,children:k,as:F="input",...C},P)=>{s=(0,o.useBootstrapPrefix)(s,"form-check"),r=(0,o.useBootstrapPrefix)(r,"form-switch");let{controlId:S}=(0,a.useContext)(n),B=(0,a.useMemo)(()=>({controlId:e||S}),[S,e]),R=!k&&null!=$&&!1!==$||f(k,u),A=(0,l.jsx)(d,{...C,type:"switch"===w?"checkbox":w,ref:P,isValid:x,isInvalid:h,disabled:p,as:F});return(0,l.jsx)(n.Provider,{value:B,children:(0,l.jsx)("div",{style:g,className:(0,t.default)(y,R&&s,c&&`${s}-inline`,m&&`${s}-reverse`,"switch"===w&&r),children:k||(0,l.jsxs)(l.Fragment,{children:[A,R&&(0,l.jsx)(u,{title:N,children:$}),j&&(0,l.jsx)(i,{type:v,tooltip:b,children:j})]})})})});m.displayName="FormCheck";let p=Object.assign(m,{Input:d,Label:u});e.s(["default",0,p],23665),e.i(78475),e.i(33091);let x=a.forwardRef(({bsPrefix:e,type:s,size:r,htmlSize:i,id:d,className:u,isValid:c=!1,isInvalid:f=!1,plaintext:m,readOnly:p,as:x="input",...h},b)=>{let{controlId:j}=(0,a.useContext)(n);return e=(0,o.useBootstrapPrefix)(e,"form-control"),(0,l.jsx)(x,{...h,type:s,size:i,ref:b,readOnly:p,id:d||j,className:(0,t.default)(u,m?`${e}-plaintext`:e,r&&`${e}-${r}`,"color"===s&&`${e}-color`,c&&"is-valid",f&&"is-invalid")})});x.displayName="FormControl";let h=Object.assign(x,{Feedback:i});e.s(["default",0,h],91013);let b=a.forwardRef(({className:e,bsPrefix:a,as:s="div",...r},i)=>(a=(0,o.useBootstrapPrefix)(a,"form-floating"),(0,l.jsx)(s,{ref:i,className:(0,t.default)(e,a),...r})));b.displayName="FormFloating",e.s(["default",0,b],59531);let j=a.forwardRef(({controlId:e,as:t="div",...s},r)=>{let i=(0,a.useMemo)(()=>({controlId:e}),[e]);return(0,l.jsx)(n.Provider,{value:i,children:(0,l.jsx)(t,{...s,ref:r})})});j.displayName="FormGroup",e.s(["default",0,j],1314)},68078,e=>{"use strict";var t=e.i(44431),a=e.i(71119),s=e.i(22929),l=e.i(76819);let r=a.forwardRef((e,a)=>{let[{className:r,...i},{as:n="div",bsPrefix:o,spans:d}]=function({as:e,bsPrefix:a,className:l,...r}){a=(0,s.useBootstrapPrefix)(a,"col");let i=(0,s.useBootstrapBreakpoints)(),n=(0,s.useBootstrapMinBreakpoint)(),o=[],d=[];return i.forEach(e=>{let t,s,l,i=r[e];delete r[e],"object"==typeof i&&null!=i?{span:t,offset:s,order:l}=i:t=i;let u=e!==n?`-${e}`:"";t&&o.push(!0===t?`${a}${u}`:`${a}${u}-${t}`),null!=l&&d.push(`order${u}-${l}`),null!=s&&d.push(`offset${u}-${s}`)}),[{...r,className:(0,t.default)(l,...o,...d)},{as:e,bsPrefix:a,spans:o}]}(e);return(0,l.jsx)(n,{...i,ref:a,className:(0,t.default)(r,!d.length&&o)})});r.displayName="Col",e.s(["default",0,r])},46144,e=>{"use strict";var t=e.i(44431),a=e.i(3510),s=e.i(71119),l=e.i(23665),r=e.i(91013),i=e.i(59531),n=e.i(1314);e.i(78475),e.i(33091);var o=e.i(68078),d=e.i(10766),u=e.i(22929),c=e.i(76819);let f=s.forwardRef(({as:e="label",bsPrefix:a,column:l=!1,visuallyHidden:r=!1,className:i,htmlFor:n,...f},m)=>{let{controlId:p}=(0,s.useContext)(d.default);a=(0,u.useBootstrapPrefix)(a,"form-label");let x="col-form-label";"string"==typeof l&&(x=`${x} ${x}-${l}`);let h=(0,t.default)(i,a,r&&"visually-hidden",l&&x);return(n=n||p,l)?(0,c.jsx)(o.default,{ref:m,as:"label",className:h,htmlFor:n,...f}):(0,c.jsx)(e,{ref:m,className:h,htmlFor:n,...f})});f.displayName="FormLabel";let m=s.forwardRef(({bsPrefix:e,className:a,id:l,...r},i)=>{let{controlId:n}=(0,s.useContext)(d.default);return e=(0,u.useBootstrapPrefix)(e,"form-range"),(0,c.jsx)("input",{...r,type:"range",ref:i,className:(0,t.default)(a,e),id:l||n})});m.displayName="FormRange";let p=s.forwardRef(({bsPrefix:e,size:a,htmlSize:l,className:r,isValid:i=!1,isInvalid:n=!1,id:o,...f},m)=>{let{controlId:p}=(0,s.useContext)(d.default);return e=(0,u.useBootstrapPrefix)(e,"form-select"),(0,c.jsx)("select",{...f,size:l,ref:m,className:(0,t.default)(r,e,a&&`${e}-${a}`,i&&"is-valid",n&&"is-invalid"),id:o||p})});p.displayName="FormSelect";let x=s.forwardRef(({bsPrefix:e,className:a,as:s="small",muted:l,...r},i)=>(e=(0,u.useBootstrapPrefix)(e,"form-text"),(0,c.jsx)(s,{...r,ref:i,className:(0,t.default)(a,e,l&&"text-muted")})));x.displayName="FormText";let h=s.forwardRef((e,t)=>(0,c.jsx)(l.default,{...e,ref:t,type:"switch"}));h.displayName="Switch";let b=Object.assign(h,{Input:l.default.Input,Label:l.default.Label}),j=s.forwardRef(({bsPrefix:e,className:a,children:s,controlId:l,label:r,...i},o)=>(e=(0,u.useBootstrapPrefix)(e,"form-floating"),(0,c.jsxs)(n.default,{ref:o,className:(0,t.default)(a,e),controlId:l,...i,children:[s,(0,c.jsx)("label",{htmlFor:l,children:r})]})));j.displayName="FloatingLabel";let v={_ref:a.default.any,validated:a.default.bool,as:a.default.elementType},y=s.forwardRef(({className:e,validated:a,as:s="form",...l},r)=>(0,c.jsx)(s,{...l,ref:r,className:(0,t.default)(e,a&&"was-validated")}));y.displayName="Form",y.propTypes=v;let g=Object.assign(y,{Group:n.default,Control:r.default,Floating:i.default,Check:l.default,Switch:b,Label:f,Text:x,Range:m,Select:p,FloatingLabel:j});e.s(["Form",0,g],46144)},25458,e=>{"use strict";var t=e.i(44431),a=e.i(71119),s=e.i(22929),l=e.i(76819);let r=a.forwardRef(({bsPrefix:e,variant:a,animation:r="border",size:i,as:n="div",className:o,...d},u)=>{e=(0,s.useBootstrapPrefix)(e,"spinner");let c=`${e}-${r}`;return(0,l.jsx)(n,{ref:u,...d,className:(0,t.default)(o,c,i&&`${c}-${i}`,a&&`text-${a}`)})});r.displayName="Spinner",e.s(["Spinner",0,r],25458)},62733,41800,e=>{"use strict";var t=e.i(76819),a=e.i(96518),s=e.i(20970),l=e.i(71119),r=e.i(25458);e.s(["default",0,(e,i)=>n=>{let{user:o,loading:d}=(0,a.useAuth)(),u=(0,s.useRouter)(),[c,f]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{f(!0)},[]),(0,l.useEffect)(()=>{!d&&c&&(o?i.includes(o.role)||u.replace("/"):u.replace("/login"))},[o,d,u,c]),c&&!d&&o&&i.includes(o.role))?(0,t.jsx)(e,{...n}):(0,t.jsx)("div",{className:"auth-loading-container",children:(0,t.jsx)(r.Spinner,{animation:"border"})})}],62733);let{Axios:i,AxiosError:n,CanceledError:o,isCancel:d,CancelToken:u,VERSION:c,all:f,Cancel:m,isAxiosError:p,spread:x,toFormData:h,AxiosHeaders:b,HttpStatusCode:j,formToJSON:v,getAdapter:y,mergeConfig:g}=e.i(14955).default;e.s(["AxiosError",()=>n],41800)},32426,e=>{"use strict";var t=e.i(76819),a=e.i(62733);e.i(78475);var s=e.i(71119),l=e.i(38946),r=e.i(44431);e.i(33091),e.i(85109);var i=e.i(99834),n=e.i(25733),o=e.i(22929),d=e.i(2888),u=e.i(76020),c=e.i(19654);let f=s.forwardRef(({bsPrefix:e,active:a,disabled:s,eventKey:l,className:i,variant:n,action:f,as:m,...p},x)=>{e=(0,o.useBootstrapPrefix)(e,"list-group-item");let[h,b]=(0,u.useNavItem)({key:(0,c.makeEventKey)(l,p.href),active:a,...p}),j=(0,d.default)(e=>{if(s){e.preventDefault(),e.stopPropagation();return}h.onClick(e)});s&&void 0===p.tabIndex&&(p.tabIndex=-1,p["aria-disabled"]=!0);let v=m||(f?p.href?"a":"button":"div");return(0,t.jsx)(v,{ref:x,...p,...h,onClick:j,className:(0,r.default)(i,e,b.isActive&&"active",s&&"disabled",n&&`${e}-${n}`,f&&`${e}-action`)})});f.displayName="ListGroupItem";let m=s.forwardRef((e,a)=>{let s,{className:l,bsPrefix:d,variant:u,horizontal:c,numbered:f,as:m="div",...p}=(0,i.useUncontrolled)(e,{activeKey:"onSelect"}),x=(0,o.useBootstrapPrefix)(d,"list-group");return c&&(s=!0===c?"horizontal":`horizontal-${c}`),(0,t.jsx)(n.default,{ref:a,...p,as:m,className:(0,r.default)(l,x,u&&`${x}-${u}`,s&&`${x}-${s}`,f&&`${x}-numbered`)})});m.displayName="ListGroup";let p=Object.assign(m,{Item:f});var x=e.i(25458),h=e.i(37499);let b=s.forwardRef(({bsPrefix:e,bg:a="primary",pill:s=!1,text:l,className:i,as:n="span",...d},u)=>{let c=(0,o.useBootstrapPrefix)(e,"badge");return(0,t.jsx)(n,{ref:u,...d,className:(0,r.default)(i,c,s&&"rounded-pill",l&&`text-${l}`,a&&`bg-${a}`)})});b.displayName="Badge";var j=e.i(86575),v=e.i(46144),y=e.i(27301);function g({min:e,now:a,max:s,label:l,visuallyHidden:i,striped:n,animated:o,className:d,style:u,variant:c,bsPrefix:f,...m},p){return(0,t.jsx)("div",{ref:p,...m,role:"progressbar",className:(0,r.default)(d,`${f}-bar`,{[`bg-${c}`]:c,[`${f}-bar-animated`]:o,[`${f}-bar-striped`]:o||n}),style:{width:`${Math.round((a-e)/(s-e)*1e5)/1e3}%`,...u},"aria-valuenow":a,"aria-valuemin":e,"aria-valuemax":s,children:i?(0,t.jsx)("span",{className:"visually-hidden",children:l}):l})}let N=s.forwardRef(({isChild:e=!1,...a},l)=>{let i={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...a};if(i.bsPrefix=(0,o.useBootstrapPrefix)(i.bsPrefix,"progress"),e)return g(i,l);let{min:n,now:d,max:u,label:c,visuallyHidden:f,striped:m,animated:p,bsPrefix:x,variant:h,className:b,children:j,...v}=i;return(0,t.jsx)("div",{ref:l,...v,className:(0,r.default)(b,x),children:j?(0,y.map)(j,e=>(0,s.cloneElement)(e,{isChild:!0})):g({min:n,now:d,max:u,label:c,visuallyHidden:f,striped:m,animated:p,bsPrefix:x,variant:h},l)})});N.displayName="ProgressBar";var w=e.i(41800);function $({assignmentId:e,onSubmissionSuccess:a}){let[r,i]=(0,s.useState)(null),[n,o]=(0,s.useState)(!1),[d,u]=(0,s.useState)(0),[c,f]=(0,s.useState)(null),[m,p]=(0,s.useState)(null),x=async t=>{if(t.preventDefault(),!r)return void f("Please select a file to upload.");let s=new FormData;s.append("file",r),s.append("assignmentId",e),o(!0),f(null),p(null),u(0);try{let e=await l.default.post("/submissions",s,{onUploadProgress:e=>{if(e.total){let t=Math.round(100*e.loaded/e.total);u(t)}}});p("File uploaded successfully!"),i(null),a(e.data)}catch(e){e instanceof w.AxiosError?f(e.response?.data?.message||"File upload failed."):f("An unexpected error occurred.")}finally{o(!1)}};return(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsxs)(v.Form,{onSubmit:x,children:[(0,t.jsxs)(v.Form.Group,{controlId:"formFile",className:"mb-3",children:[(0,t.jsx)(v.Form.Label,{children:"Submit your work"}),(0,t.jsx)(v.Form.Control,{type:"file",onChange:e=>{e.target.files&&i(e.target.files[0])},disabled:n})]}),n&&(0,t.jsx)(N,{now:d,label:`${d}%`,className:"mb-3"}),c&&(0,t.jsx)(h.Alert,{variant:"danger",children:c}),m&&(0,t.jsx)(h.Alert,{variant:"success",children:m}),(0,t.jsx)(j.Button,{variant:"primary",type:"submit",disabled:!r||n,children:n?"Uploading...":"Submit Assignment"})]})})}function k(){let[e,a]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null),[c,f]=(0,s.useState)(1),[m,v]=(0,s.useState)(1),y=async(e=c)=>{o(!0);try{let[t,s]=await Promise.all([l.default.get(`/assignments?page=${e}&pageSize=10`),l.default.get("/submissions/me?page=1&pageSize=100")]),r=t.data?.items??t.data??[],n=s.data?.items??s.data??[];a(r),i(n),v(t.data?.totalPages??1)}catch(e){console.error("Failed to load data:",e),u("Failed to load assignments or submissions.")}finally{o(!1)}},g=async(e,t)=>{if(!e)return;let a=e;try{if(!/^https?:\/\//i.test(e)){let t="http://localhost:5001/api".replace(/\/api\/?$/,"").replace(/\/$/,"");a=`${t}${e.startsWith("/")?"":"/"}${e}`}console.debug("Attempting file download",{attachmentUrl:e,fullUrl:a,filename:t});let s=document.createElement("a");s.href=a,s.download=t||"attachment",s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),console.debug("Download initiated successfully",{fullUrl:a,filename:t})}catch(e){console.error("Download initiation failed:",e);try{console.debug("Fallback 1: open fullUrl in new tab",a);let e=document.createElement("a");e.href=a,e.target="_blank",e.rel="noopener noreferrer",document.body.appendChild(e),e.click(),document.body.removeChild(e),alert("File opened in a new tab. If it did not download, check the browser console or contact support.");return}catch(e){console.error("Fallback 1 open failed:",e)}alert(`Failed to download file.

Attempted URL: ${a}

Check console for details or contact support.`)}};return((0,s.useEffect)(()=>{let e=!0;return(async()=>{e&&await y(c)})(),()=>{e=!1}},[c]),n)?(0,t.jsx)(x.Spinner,{animation:"border"}):d?(0,t.jsx)(h.Alert,{variant:"danger",children:d}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"Assignments"}),0===e.length?(0,t.jsx)("p",{children:"No assignments available at the moment."}):(0,t.jsx)(p,{variant:"flush",children:e.map(e=>{let a,s=(a=e.id,r.find(e=>e.assignmentId===a));return(0,t.jsxs)(p.Item,{className:"mb-3 p-3 border rounded",children:[(0,t.jsxs)("div",{className:"d-flex w-100 justify-content-between align-items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"mb-1",children:e.title}),(0,t.jsxs)("small",{className:"text-muted",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]}),e.attachmentUrl&&(0,t.jsx)(j.Button,{variant:"outline-primary",size:"sm",onClick:()=>{let t=e.attachmentUrl?.split("/").pop()||"attachment";console.debug("Downloading assignment attachment:",{id:e.id,title:e.title,attachmentUrl:e.attachmentUrl}),g(e.attachmentUrl,t)},title:"Download attachment from instructor",children:"ðŸ“¥ Download"})]}),(0,t.jsxs)("p",{className:"mb-1 text-muted",children:["Instructor: ",e.instructor.name]}),(0,t.jsx)("p",{children:e.description}),s?(0,t.jsx)("div",{children:(0,t.jsxs)(h.Alert,{variant:"GRADED"===s.status?"success":"info",children:[(0,t.jsxs)("p",{className:"fw-bold",children:["Status: ",(0,t.jsx)(b,{bg:"GRADED"===s.status?"success":"primary",children:s.status})]}),"GRADED"===s.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Marks:"})," ",s.marks??"Not graded"," / 100"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Feedback:"})," ",s.feedback||"No feedback provided."]})]})]})}):(0,t.jsx)($,{assignmentId:e.id,onSubmissionSuccess:e=>{if(e){let t={id:e.id,assignmentId:e.assignmentId,status:e.status,marks:e.marks??null,feedback:e.feedback??null};i(e=>e.find(e=>e.id===t.id)?e:[...e,t])}else y()}})]},e.id)})}),m>1&&(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,t.jsx)(j.Button,{variant:"outline-secondary",size:"sm",disabled:c<=1,onClick:()=>f(e=>Math.max(1,e-1)),children:"Prev"}),(0,t.jsxs)("span",{className:"small",children:["Page ",c," of ",m]}),(0,t.jsx)(j.Button,{variant:"outline-secondary",size:"sm",disabled:c>=m,onClick:()=>f(e=>Math.min(m,e+1)),children:"Next"})]})]})}let F=(0,a.default)(()=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"mb-4",children:"Student Dashboard"}),(0,t.jsx)("p",{className:"mb-4",children:"Welcome! Here are the assignments available for you."}),(0,t.jsx)(k,{})]}),["STUDENT"]);e.s(["default",0,F],32426)}]);